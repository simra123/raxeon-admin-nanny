(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[56],{1322:function(e,a,s){"use strict";s.r(a);var t=s(15),c=s(0),n=s(1),l=s(32),i=s.n(l),r=(s(848),s(473)),j=s(588),d=s(712),b=s(125),o=s(80),h=s.n(o),m=function(){return function(e){h.a.get("/apps/chat/chats-and-contacts").then((function(a){e({type:"GET_CHAT_CONTACTS",data:a.data})}))}},u=function(e){return function(a){h.a.get("/apps/chat/get-chat",{id:e}).then((function(e){a({type:"SELECT_CHAT",data:e.data}),a(m())}))}},O=s(57),x=s.n(O),N=s(532),g=s.n(N),f=s(687),p=s(686),v=s(691),y=s(648),S=s(679),w=s(696),C=s(1240),k=s(1327),z=s(1241),M=s(1243),T=s(500),A=s(496),E=s(497),I=s(489),P=s(491),_=s(472),L=s(492),R=s(498),U=s(463),D=s(479),F=s(499),H=s(6),W=function(e){var a=e.handleUser,s=e.handleUserSidebarRight,l=e.handleSidebar,o=e.store,m=e.userSidebarLeft,O=o.userProfile,N=o.selectedUser,W=Object(c.useState)(!1),G=Object(t.a)(W,2),J=G[0],V=G[1],q=Object(c.useRef)(null),B=Object(b.b)(),X=Object(c.useState)(""),K=Object(t.a)(X,2),Q=K[0],Y=K[1];Object(c.useEffect)((function(){Object.keys(N).length&&(i.a.findDOMNode(q.current).scrollTop=Number.MAX_SAFE_INTEGER)}),[N]);var Z=function(e){var a;e.preventDefault(),Q.length&&(B((a=Object(n.a)(Object(n.a)({},N),{},{message:Q}),function(e){h.a.post("/apps/chat/send-msg",{obj:a}).then((function(s){e({type:"SEND_MSG",data:s.data}),e(u(a.contact.id))}))})),Y(""))},$=Object.keys(N).length&&N.chat?g.a:"div",ee=Object(c.useState)(null),ae=Object(t.a)(ee,2),se=ae[0],te=ae[1],ce=function(){te((function(e){return!e}))};return Object(H.jsxs)("div",{className:"chat-app-window",children:[Object(H.jsxs)("div",{className:x()("start-chat-area",{"d-none":Object.keys(N).length}),children:[Object(H.jsx)("div",{className:"start-chat-icon mb-1",children:Object(H.jsx)(f.a,{})}),Object(H.jsx)("h4",{className:"sidebar-toggle start-chat-text",onClick:function(){!Object.keys(N).length&&!m&&window.innerWidth<=1200&&l()},children:"Start Conversation"})]}),Object.keys(N).length?Object(H.jsxs)("div",{className:x()("active-chat",{"d-none":null===N}),children:[Object(H.jsx)("div",{className:"chat-navbar",children:Object(H.jsxs)("header",{className:"chat-header",children:[Object(H.jsxs)("div",{className:"d-flex align-items-center",children:[Object(H.jsx)("div",{className:"sidebar-toggle d-block d-lg-none mr-1",onClick:l,children:Object(H.jsx)(p.a,{size:21})}),Object(H.jsx)(r.a,{imgHeight:"36",imgWidth:"36",img:N.contact.avatar,status:N.contact.status,className:"avatar-border user-profile-toggle m-0 mr-1",onClick:function(){return e=N.contact,s(),void a(e);var e}}),Object(H.jsx)("h6",{className:"mb-0",children:N.contact.fullName})]}),Object(H.jsxs)("div",{className:"d-flex align-items-center",children:[Object(H.jsxs)(C.a,{children:[Object(H.jsx)(k.a,{className:"btn-icon",color:"transparent",size:"sm",children:Object(H.jsx)(v.a,{size:"18"})}),Object(H.jsx)(z.a,{right:!0,children:Object(H.jsx)(M.a,{href:"/",onClick:function(e){e.preventDefault(),ce()},children:"Add Participant"})})]}),Object(H.jsxs)(T.a,{isOpen:se,toggle:function(){return ce()},className:"modal-dialog-centered",modalClassName:"modal-primary",children:[Object(H.jsx)(A.a,{toggle:function(){return ce()},children:"Add Participant"}),Object(H.jsx)(E.a,{children:Object(H.jsxs)(I.a,{className:"mb-2",children:[Object(H.jsx)(P.a,{addonType:"prepend",children:Object(H.jsx)(_.a,{children:Object(H.jsx)(y.a,{size:14})})}),Object(H.jsx)(L.a,{placeholder:"search participant"})]})}),Object(H.jsx)(R.a,{children:Object(H.jsx)(U.a,{color:"primary",onClick:function(){return ce()},children:"Add"})})]},"secondary")]})]})}),Object(H.jsx)($,{ref:q,className:"user-chats",options:{wheelPropagation:!1},children:N.chat?Object(H.jsx)("div",{className:"chats",children:function(){var e=[];N.chat&&(e=N.chat.chat);var a=[],s=e[0]?e[0].senderId:void 0,t={senderId:s,messages:[]};return e.forEach((function(c,n){s===c.senderId?t.messages.push({msg:c.message,time:c.time}):(s=c.senderId,a.push(t),t={senderId:c.senderId,messages:[{msg:c.message,time:c.time}]}),n===e.length-1&&a.push(t)})),a}().map((function(e,a){return Object(H.jsxs)("div",{className:x()("chat",{"chat-left":11!==e.senderId}),children:[Object(H.jsx)("div",{className:"chat-avatar",children:Object(H.jsx)(r.a,{className:"box-shadow-1 cursor-pointer",img:11===e.senderId?O.avatar:N.contact.avatar})}),Object(H.jsx)("div",{className:"chat-body",children:e.messages.map((function(e){return Object(H.jsx)("div",{className:"chat-content",children:Object(H.jsx)("p",{children:e.msg})},e.msg)}))})]},a)}))}):null}),J?Object(H.jsxs)("div",{className:"animate__animated animate__fadeIn animate_faster d-flex  chat-icons",children:[Object(H.jsx)("span",{className:"each-icon ",children:Object(H.jsxs)(D.a,{className:"attachment-icon mb-0 ",for:"attach-image",children:[Object(H.jsx)(S.a,{className:"",size:20}),Object(H.jsx)("input",{type:"file",id:"attach-image",hidden:!0})]})}),Object(H.jsx)("span",{className:"each-icon",children:Object(H.jsxs)(D.a,{className:"attachment-icon mb-0 ",for:"attach-image",children:[Object(H.jsx)(j.d,{size:20}),Object(H.jsx)("input",{type:"file",id:"attach-image",hidden:!0})]})}),Object(H.jsx)("span",{className:"each-icon",children:Object(H.jsxs)(D.a,{className:"attachment-icon mb-0 ",for:"attach-image",children:[Object(H.jsx)(d.b,{size:20}),Object(H.jsx)("input",{type:"file",id:"attach-image",hidden:!0})]})})]}):null,Object(H.jsxs)(F.a,{className:"chat-app-form",onSubmit:function(e){return Z(e)},children:[Object(H.jsxs)(I.a,{className:"input-group-merge mr-1 form-send-message",children:[Object(H.jsx)(P.a,{addonType:"append",children:Object(H.jsx)(_.a,{onClick:function(){return V((function(e){return!e}))},children:Object(H.jsx)("div",{className:"icon ",children:Object(H.jsx)(j.c,{size:22})})})}),Object(H.jsx)(L.a,{value:Q,onChange:function(e){return Y(e.target.value)},placeholder:"Type your message or use speech to text"})]}),Object(H.jsxs)(U.a,{className:"send",color:"primary",children:[Object(H.jsx)(w.a,{size:14,className:"d-lg-none"}),Object(H.jsx)("span",{className:"d-none d-lg-block",children:"Send"})]})]})]}):null]})},G=s(122),J=s(517),V=s(624),q=s(659),B=s(651),X=s(646),K=s(703),Q=s(594),Y=s(1244),Z=s(1326),$=function(e){var a=e.store,s=e.sidebar,n=e.handleSidebar,l=e.userSidebarLeft,i=e.handleUserSidebarLeft,j=a.chats,d=a.contacts,o=a.userProfile,h=Object(b.b)(),m=Object(c.useState)(""),O=Object(t.a)(m,2),N=O[0],f=O[1],p=Object(c.useState)(""),v=Object(t.a)(p,2),S=v[0],w=v[1],C=Object(c.useState)({}),k=Object(t.a)(C,2),z=k[0],M=k[1],T=Object(c.useState)("online"),A=Object(t.a)(T,2),E=A[0],R=A[1],D=Object(c.useState)([]),F=Object(t.a)(D,2),W=F[0],$=F[1],ee=Object(c.useState)([]),ae=Object(t.a)(ee,2),se=ae[0],te=ae[1],ce=function(e,a){h(u(a)),M({type:e,id:a}),!0===s&&n()};return a?Object(H.jsx)("div",{className:"sidebar-left",children:Object(H.jsxs)("div",{className:"sidebar",children:[Object(H.jsxs)("div",{className:x()("chat-profile-sidebar",{show:l}),children:[Object(H.jsxs)("header",{className:"chat-profile-header",children:[Object(H.jsx)("div",{className:"close-icon",onClick:i,children:Object(H.jsx)(V.a,{size:14})}),Object(H.jsxs)("div",{className:"header-profile-sidebar",children:[Object(H.jsx)(r.a,{className:"box-shadow-1 avatar-border",img:o.avatar,status:E,size:"xl"}),Object(H.jsx)("h4",{className:"chat-user-name",children:o.fullName}),Object(H.jsx)("span",{className:"user-post",children:o.role})]})]}),Object(H.jsxs)(g.a,{className:"profile-sidebar-area",options:{wheelPropagation:!1},children:[Object(H.jsx)("h6",{className:"section-label mb-1",children:"About"}),Object(H.jsxs)("div",{className:"about-user",children:[Object(H.jsx)(L.a,{rows:"5",defaultValue:o.about,type:"textarea",onChange:function(e){return f(e.target.value)},className:x()("char-textarea",{"text-danger":N&&N.length>120})}),Object(H.jsxs)("small",{className:"counter-value float-right",children:[Object(H.jsx)("span",{className:"char-count",children:o.about?o.about.length:0}),"/ 120"]})]}),Object(H.jsx)("h6",{className:"section-label mb-1 mt-3",children:"Status"}),Object(H.jsxs)("ul",{className:"list-unstyled user-status",children:[Object(H.jsx)("li",{className:"pb-1",children:Object(H.jsx)(Z.a,{type:"radio",className:"custom-control-primary",id:"online",label:"Online",onChange:function(e){return R("online")},checked:"online"===E})}),Object(H.jsx)("li",{className:"pb-1",children:Object(H.jsx)(Z.a,{type:"radio",className:"custom-control-danger",id:"busy",label:"Do Not Disturb",onChange:function(e){return R("busy")},checked:"busy"===E})}),Object(H.jsx)("li",{className:"pb-1",children:Object(H.jsx)(Z.a,{type:"radio",className:"custom-control-warning",id:"away",label:"Away",onChange:function(e){return R("away")},checked:"away"===E})}),Object(H.jsx)("li",{className:"pb-1",children:Object(H.jsx)(Z.a,{type:"radio",className:"custom-control-secondary",id:"offline",label:"Offline",onChange:function(e){return R("offline")},checked:"offline"===E})})]}),Object(H.jsx)("h6",{className:"section-label mb-1 mt-2",children:"Settings"}),Object(H.jsxs)("ul",{className:"list-unstyled",children:[Object(H.jsxs)("li",{className:"d-flex justify-content-between align-items-center mb-1",children:[Object(H.jsxs)("div",{className:"d-flex align-items-center",children:[Object(H.jsx)(q.a,{className:"mr-75",size:"18"}),Object(H.jsx)("span",{className:"align-middle",children:"Two-step Verification"})]}),Object(H.jsx)(Z.a,{type:"switch",id:"verification",name:"verification",label:"",defaultChecked:!0})]}),Object(H.jsxs)("li",{className:"d-flex justify-content-between align-items-center mb-1",children:[Object(H.jsxs)("div",{className:"d-flex align-items-center",children:[Object(H.jsx)(B.a,{className:"mr-75",size:"18"}),Object(H.jsx)("span",{className:"align-middle",children:"Notification"})]}),Object(H.jsx)(Z.a,{type:"switch",id:"notifications",name:"notifications",label:""})]}),Object(H.jsxs)("li",{className:"d-flex align-items-center cursor-pointer mb-1",children:[Object(H.jsx)(X.a,{className:"mr-75",size:"18"}),Object(H.jsx)("span",{className:"align-middle",children:"Invite Friends"})]}),Object(H.jsxs)("li",{className:"d-flex align-items-center cursor-pointer",children:[Object(H.jsx)(K.a,{className:"mr-75",size:"18"}),Object(H.jsx)("span",{className:"align-middle",children:"Delete Account"})]})]}),Object(H.jsx)("div",{className:"mt-3",children:Object(H.jsx)(U.a,{color:"primary",children:"Logout"})})]})]}),Object(H.jsxs)("div",{className:x()("sidebar-content",{show:!0===s}),children:[Object(H.jsx)("div",{className:"sidebar-close-icon",onClick:n,children:Object(H.jsx)(V.a,{size:14})}),Object(H.jsx)("div",{className:"chat-fixed-search",children:Object(H.jsxs)("div",{className:"d-flex align-items-center w-100",children:[Object(H.jsx)("div",{className:"sidebar-profile-toggle",onClick:i,children:Object.keys(o).length?Object(H.jsx)(r.a,{className:"avatar-border",img:o.avatar,status:E,imgHeight:"42",imgWidth:"42"}):null}),Object(H.jsxs)(I.a,{className:"input-group-merge ml-1 w-100",children:[Object(H.jsx)(P.a,{addonType:"prepend",children:Object(H.jsx)(_.a,{className:"round",children:Object(H.jsx)(y.a,{className:"text-muted",size:14})})}),Object(H.jsx)(L.a,{value:S,className:"round",placeholder:"Search or start a new chat",onChange:function(e){w(e.target.value);var a=function(a){return a.fullName.toLowerCase().includes(e.target.value.toLowerCase())},s=j.filter(a),t=d.filter(a);$(Object(G.a)(s)),te(Object(G.a)(t))}})]})]})}),Object(H.jsxs)(g.a,{className:"chat-user-list-wrapper list-group",options:{wheelPropagation:!1},children:[Object(H.jsx)("h4",{className:"chat-list-title",children:"Chats"}),Object(H.jsx)("ul",{className:"chat-users-list chat-list media-list",children:j&&j.length?S.length&&!W.length?Object(H.jsx)("li",{className:"no-results show",children:Object(H.jsx)("h6",{className:"mb-0",children:"No Chats Found"})}):(S.length&&W.length?W:j).map((function(e){var a=Object(J.a)(e.chat.lastMessage?e.chat.lastMessage.time:new Date);return Object(H.jsxs)("li",{className:x()({active:"chat"===z.type&&z.id===e.id}),onClick:function(){return ce("chat",e.id)},children:[Object(H.jsx)(r.a,{img:e.avatar,imgHeight:"42",imgWidth:"42",status:e.status}),Object(H.jsxs)("div",{className:"chat-info flex-grow-1",children:[Object(H.jsx)("h5",{className:"mb-0",children:e.fullName}),Object(H.jsx)(Q.a,{className:"text-truncate",children:e.chat.lastMessage?e.chat.lastMessage.message:j[j.length-1].message})]}),Object(H.jsxs)("div",{className:"chat-meta text-nowrap",children:[Object(H.jsx)("small",{className:"float-right mb-25 chat-time ml-25",children:a}),e.chat.unseenMsgs>=1?Object(H.jsx)(Y.a,{className:"float-right",color:"danger",pill:!0,children:e.chat.unseenMsgs}):null]})]},e.id)})):null}),Object(H.jsx)("h4",{className:"chat-list-title",children:"Contacts"}),Object(H.jsx)("ul",{className:"chat-users-list contact-list media-list",children:d&&d.length?S.length&&!se.length?Object(H.jsx)("li",{className:"no-results show",children:Object(H.jsx)("h6",{className:"mb-0",children:"No Chats Found"})}):(S.length&&se.length?se:d).map((function(e){return Object(H.jsxs)("li",{className:x()({active:"contact"===z.type&&z.id===e.id}),onClick:function(){return ce("contact",e.id)},children:[Object(H.jsx)(r.a,{img:e.avatar,imgHeight:"42",imgWidth:"42"}),Object(H.jsxs)("div",{className:"chat-info flex-grow-1",children:[Object(H.jsx)("h5",{className:"mb-0",children:e.fullName}),Object(H.jsx)(Q.a,{className:"text-truncate",children:e.about})]})]},e.fullName)})):null})]})]})]})}):null},ee=s(684),ae=s(692),se=s(663),te=s(702),ce=s(700),ne=s(698),le=function(e){var a=e.user,s=e.handleUserSidebarRight,t=e.userSidebarRight;return Object(H.jsxs)("div",{className:x()("user-profile-sidebar",{show:!0===t}),children:[Object(H.jsxs)("header",{className:"user-profile-header",children:[Object(H.jsx)("span",{className:"close-icon",onClick:s,children:Object(H.jsx)(V.a,{size:14})}),Object(H.jsxs)("div",{className:"header-profile-sidebar",children:[Object(H.jsx)(r.a,{className:"box-shadow-1 avatar-border",size:"xl",status:a.status,img:a.avatar,imgHeight:"70",imgWidth:"70"}),Object(H.jsx)("h4",{className:"chat-user-name",children:a.fullName}),Object(H.jsx)("span",{className:"user-post",children:a.role})]})]}),Object(H.jsxs)(g.a,{className:"user-profile-sidebar-area",options:{wheelPropagation:!1},children:[Object(H.jsx)("h6",{className:"section-label mb-1",children:"About"}),Object(H.jsx)("p",{children:a.about}),Object(H.jsxs)("div",{className:"personal-info",children:[Object(H.jsx)("h6",{className:"section-label mb-1 mt-3",children:"Personal Information"}),Object(H.jsxs)("ul",{className:"list-unstyled",children:[Object(H.jsxs)("li",{className:"mb-1",children:[Object(H.jsx)(ee.a,{className:"mr-50",size:17}),Object(H.jsx)("span",{className:"align-middle",children:"lucifer@email.com"})]}),Object(H.jsxs)("li",{className:"mb-1",children:[Object(H.jsx)(ae.a,{className:"mr-50",size:17}),Object(H.jsx)("span",{className:"align-middle",children:" +1(123) 456 - 7890"})]}),Object(H.jsxs)("li",{children:[Object(H.jsx)(se.a,{className:"mr-50",size:17}),Object(H.jsx)("span",{className:"align-middle",children:" Mon - Fri 10AM - 8PM"})]})]})]}),Object(H.jsxs)("div",{className:"more-options",children:[Object(H.jsx)("h6",{className:"section-label mb-1 mt-3",children:"Options"}),Object(H.jsxs)("ul",{className:"list-unstyled",children:[Object(H.jsxs)("li",{className:"cursor-pointer mb-1",children:[Object(H.jsx)(te.a,{className:"mr-50",size:17}),Object(H.jsx)("span",{className:"align-middle",children:" Add Tag"})]}),Object(H.jsxs)("li",{className:"cursor-pointer mb-1",children:[Object(H.jsx)(ce.a,{className:"mr-50",size:17}),Object(H.jsx)("span",{className:"align-middle",children:" Important Contact"})]}),Object(H.jsxs)("li",{className:"cursor-pointer mb-1",children:[Object(H.jsx)(S.a,{className:"mr-50",size:17}),Object(H.jsx)("span",{className:"align-middle",children:" Shared Media"})]}),Object(H.jsxs)("li",{className:"cursor-pointer mb-1",children:[Object(H.jsx)(K.a,{className:"mr-50",size:17}),Object(H.jsx)("span",{className:"align-middle",children:" Delete Contact"})]}),Object(H.jsxs)("li",{className:"cursor-pointer",children:[Object(H.jsx)(ne.a,{className:"mr-50",size:17}),Object(H.jsx)("span",{className:"align-middle",children:"Block Contact"})]})]})]})]})]})};s(849),s(850),a.default=function(){var e=Object(b.b)(),a=Object(b.c)((function(e){return e.chat})),s=Object(c.useState)({}),n=Object(t.a)(s,2),l=n[0],i=n[1],r=Object(c.useState)(!1),j=Object(t.a)(r,2),d=j[0],o=j[1],u=Object(c.useState)(!1),O=Object(t.a)(u,2),N=O[0],g=O[1],f=Object(c.useState)(!1),p=Object(t.a)(f,2),v=p[0],y=p[1],S=function(){return o(!d)},w=function(){return g(!N)};return Object(c.useEffect)((function(){e(m()),e((function(e){return h.a.get("/apps/chat/users/profile-user").then((function(a){return e({type:"GET_USER_PROFILE",userProfile:a.data})}))}))}),[e]),Object(H.jsxs)(c.Fragment,{children:[Object(H.jsx)($,{store:a,sidebar:d,handleSidebar:S,userSidebarLeft:v,handleUserSidebarLeft:function(){return y(!v)}}),Object(H.jsx)("div",{className:"content-right",children:Object(H.jsx)("div",{className:"content-wrapper",children:Object(H.jsxs)("div",{className:"content-body",children:[Object(H.jsx)("div",{className:x()("body-content-overlay",{show:!0===N||!0===d||!0===v}),onClick:function(){o(!1),g(!1),y(!1)}}),Object(H.jsx)(W,{store:a,handleUser:function(e){return i(e)},handleSidebar:S,userSidebarLeft:v,handleUserSidebarRight:w}),Object(H.jsx)(le,{user:l,userSidebarRight:N,handleUserSidebarRight:w})]})})})]})}},594:function(e,a,s){"use strict";var t=s(14),c=s(20),n=s(0),l=s.n(n),i=s(5),r=s.n(i),j=s(57),d=s.n(j),b=s(79),o={tag:b.q,className:r.a.string,cssModule:r.a.object},h=function(e){var a=e.className,s=e.cssModule,n=e.tag,i=Object(c.a)(e,["className","cssModule","tag"]),r=Object(b.m)(d()(a,"card-text"),s);return l.a.createElement(n,Object(t.a)({},i,{className:r}))};h.propTypes=o,h.defaultProps={tag:"p"},a.a=h},848:function(e,a,s){},849:function(e,a,s){},850:function(e,a,s){}}]);
//# sourceMappingURL=56.8f7c9ba8.chunk.js.map