(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[66],{1266:function(e,t,a){"use strict";a.r(t);var c=a(21),s=a(1),n=a(465),r=a.n(n),i=a(466),j=a(15),o=a(0),l=a(486),d=a.n(l),u=a(502),b=a.n(u),h=a(505),x=a(504),O=(a(475),a(473),a(493),a(472)),m=a(120),p=a(479),g=a(495),f=a(485),v=a(482),y=a(499),N=a(483),w=a(484),C=a(488),S=a(489),k=a(1241),z=a(490),E=a(471),F=a(491),D=a(463),R=a(513),T=a(501),J=a(467),L=a(6);t.default=function(){var e=Object(o.useState)(null),t=Object(j.a)(e,2),a=t[0],n=t[1],l=Object(o.useState)(!1),u=Object(j.a)(l,2),P=u[0],U=u[1],_=new URLSearchParams(Object(x.h)().search).get("_id"),I=Object(x.g)(),Y=Object(o.useState)({heading:"",text:""}),q=Object(j.a)(Y,2),A=q[0],B=q[1];Object(o.useEffect)((function(){var e=function(){var e=Object(i.a)(r.a.mark((function e(){var t,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.a.get("/category?_id=".concat(_));case 3:t=e.sent,a=t.data,c=a.data[0],n(c.image),B({heading:c.heading,text:c.text}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var G=new d.a({meta:{type:"avatar"},restrictions:{maxNumberOfFiles:1},autoProceed:!0});G.use(b.a),G.on("thumbnail:generated",(function(e,t){n(e.data)}));var H=function(e){var t=e.target,a=t.name,n=t.value;B((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(c.a)({},a,n))}))},K=new FormData;K.append("heading",A.heading),K.append("text",A.text),K.append("file",a);var M=function(){var e=Object(i.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,J.a.put("/category/".concat(_),K,{});case 3:a=e.sent,console.log(a),a.data.success?(m.c.success(Object(L.jsx)(O.b,{title:"Success",text:"Category updated Successfully!"})),U(!0),setTimeout((function(){I.push("/category/list")}),1e3)):(console.log(a.data.message),U(!1),m.c.error(Object(L.jsx)(O.a,{title:"error",text:a.data.message})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(L.jsxs)(p.a,{children:[Object(L.jsx)(g.a,{children:Object(L.jsx)(f.a,{tag:"h4",children:"Edit the Category"})}),Object(L.jsx)(v.a,{children:Object(L.jsx)(y.a,{children:Object(L.jsxs)(N.a,{children:[Object(L.jsxs)(w.a,{sm:"12",children:[Object(L.jsx)(C.a,{for:"name",children:"Category Name"}),Object(L.jsxs)(S.a,{className:"input-group-merge",tag:k.a,children:[Object(L.jsx)(z.a,{addonType:"prepend",children:Object(L.jsx)(E.a,{children:Object(L.jsx)(T.g,{size:15})})}),Object(L.jsx)(F.a,{type:"text",name:"heading",value:A.heading,id:"name",onChange:H,placeholder:"Enter Category Name"})]})]}),Object(L.jsxs)(w.a,{sm:"12",md:"6",children:[Object(L.jsx)(C.a,{for:"descrip",children:"Category Description"}),Object(L.jsxs)(S.a,{className:"input-group-merge",tag:k.a,children:[Object(L.jsx)(z.a,{addonType:"prepend",children:Object(L.jsx)(E.a,{children:Object(L.jsx)(T.i,{size:15})})}),Object(L.jsx)(F.a,{type:"text",name:"text",id:"descrip",value:A.text,placeholder:"Enter Your Category description",onChange:H})]})]}),Object(L.jsxs)(w.a,{sm:"12",className:"mt-2",children:[Object(L.jsx)("h6",{children:" Category Image "}),Object(L.jsx)(h.a,{uppy:G,onChange:function(e){return console.log("kjdheuidh")}}),null!==a?Object(L.jsx)("img",{className:"rounded mt-2",src:a,alt:"avatar"}):null]}),Object(L.jsx)(w.a,{sm:"12",className:"mt-4",children:Object(L.jsxs)(k.a,{className:"d-flex mb-0",children:[Object(L.jsx)(D.a.Ripple,{className:"mr-1",color:"primary",type:"submit",onClick:function(e){return M(e)},children:"Submit"}),P?Object(L.jsx)(R.a,{color:"primary"}):null]})})]})})})]})}},467:function(e,t,a){"use strict";var c=a(80),s=a.n(c);t.a=s.a.create({baseURL:"http://localhost:4000"})},472:function(e,t,a){"use strict";a.d(t,"b",(function(){return j})),a.d(t,"a",(function(){return o}));var c=a(0),s=a(474),n=a(651),r=a(626),i=(a(652),a(682),a(6)),j=function(e){return Object(i.jsxs)(c.Fragment,{children:[Object(i.jsx)("div",{className:"toastify-header",children:Object(i.jsxs)("div",{className:"title-wrapper",children:[Object(i.jsx)(s.a,{size:"sm",color:"success",icon:Object(i.jsx)(n.a,{size:12})}),Object(i.jsx)("h6",{className:"toast-title",children:"Success!"})]})}),Object(i.jsx)("div",{className:"toastify-body",children:Object(i.jsx)("span",{role:"img","aria-label":"toast-text",children:e.text})})]})},o=function(e){return Object(i.jsxs)(c.Fragment,{children:[Object(i.jsx)("div",{className:"toastify-header",children:Object(i.jsxs)("div",{className:"title-wrapper",children:[Object(i.jsx)(s.a,{size:"sm",color:"danger",icon:Object(i.jsx)(r.a,{size:12})}),Object(i.jsx)("h6",{className:"toast-title",children:"Error!"})]})}),Object(i.jsx)("div",{className:"toastify-body",children:Object(i.jsx)("span",{role:"img","aria-label":"toast-text",children:e.text})})]})}},473:function(e,t,a){},475:function(e,t,a){}}]);
//# sourceMappingURL=66.aeaf6e41.chunk.js.map