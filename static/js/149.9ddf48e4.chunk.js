(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[149],{1442:function(e,s,a){},1443:function(e,s,a){},2019:function(e,s,a){"use strict";a.r(s);var t=a(15),c=a(0),n=a(1),l=a(33),i=a.n(l),r=(a(1442),a(475)),j=a(1139),d=a(1180),o=a(125),b=a(81),h=a.n(b),m=function(){return function(e){h.a.get("/apps/chat/chats-and-contacts").then((function(s){e({type:"GET_CHAT_CONTACTS",data:s.data})}))}},u=function(e){return function(s){h.a.get("/apps/chat/get-chat",{id:e}).then((function(e){s({type:"SELECT_CHAT",data:e.data}),s(m())}))}},O=a(58),x=a.n(O),N=a(524),g=a.n(N),p=a(991),f=a(1081),v=a(1085),y=a(996),S=a(1065),w=a(1101),C=a(966),k=a(1289),z=a(970),T=a(980),M=a(497),A=a(499),E=a(496),I=a(981),P=a(982),_=a(805),L=a(983),R=a(504),U=a(463),D=a(484),F=a(6),H=function(e){var s=e.handleUser,a=e.handleUserSidebarRight,l=e.handleSidebar,b=e.store,m=e.userSidebarLeft,O=b.userProfile,N=b.selectedUser,H=Object(c.useState)(!1),W=Object(t.a)(H,2),G=W[0],J=W[1],V=Object(c.useRef)(null),B=Object(o.b)(),X=Object(c.useState)(""),q=Object(t.a)(X,2),K=q[0],Q=q[1];Object(c.useEffect)((function(){Object.keys(N).length&&(i.a.findDOMNode(V.current).scrollTop=Number.MAX_SAFE_INTEGER)}),[N]);var Y=function(e){var s;e.preventDefault(),K.length&&(B((s=Object(n.a)(Object(n.a)({},N),{},{message:K}),function(e){h.a.post("/apps/chat/send-msg",{obj:s}).then((function(a){e({type:"SEND_MSG",data:a.data}),e(u(s.contact.id))}))})),Q(""))},Z=Object.keys(N).length&&N.chat?g.a:"div",$=Object(c.useState)(null),ee=Object(t.a)($,2),se=ee[0],ae=ee[1],te=function(){ae((function(e){return!e}))};return Object(F.jsxs)("div",{className:"chat-app-window",children:[Object(F.jsxs)("div",{className:x()("start-chat-area",{"d-none":Object.keys(N).length}),children:[Object(F.jsx)("div",{className:"start-chat-icon mb-1",children:Object(F.jsx)(p.a,{})}),Object(F.jsx)("h4",{className:"sidebar-toggle start-chat-text",onClick:function(){!Object.keys(N).length&&!m&&window.innerWidth<=1200&&l()},children:"Start Conversation"})]}),Object.keys(N).length?Object(F.jsxs)("div",{className:x()("active-chat",{"d-none":null===N}),children:[Object(F.jsx)("div",{className:"chat-navbar",children:Object(F.jsxs)("header",{className:"chat-header",children:[Object(F.jsxs)("div",{className:"d-flex align-items-center",children:[Object(F.jsx)("div",{className:"sidebar-toggle d-block d-lg-none mr-1",onClick:l,children:Object(F.jsx)(f.a,{size:21})}),Object(F.jsx)(r.a,{imgHeight:"36",imgWidth:"36",img:N.contact.avatar,status:N.contact.status,className:"avatar-border user-profile-toggle m-0 mr-1",onClick:function(){return e=N.contact,a(),void s(e);var e}}),Object(F.jsx)("h6",{className:"mb-0",children:N.contact.fullName})]}),Object(F.jsxs)("div",{className:"d-flex align-items-center",children:[Object(F.jsxs)(C.a,{children:[Object(F.jsx)(k.a,{className:"btn-icon",color:"transparent",size:"sm",children:Object(F.jsx)(v.a,{size:"18"})}),Object(F.jsx)(z.a,{right:!0,children:Object(F.jsx)(T.a,{href:"/",onClick:function(e){e.preventDefault(),te()},children:"Add Participant"})})]}),Object(F.jsxs)(M.a,{isOpen:se,toggle:function(){return te()},className:"modal-dialog-centered",modalClassName:"modal-primary",children:[Object(F.jsx)(A.a,{toggle:function(){return te()},children:"Add Participant"}),Object(F.jsx)(E.a,{children:Object(F.jsxs)(I.a,{className:"mb-2",children:[Object(F.jsx)(P.a,{addonType:"prepend",children:Object(F.jsx)(_.a,{children:Object(F.jsx)(y.a,{size:14})})}),Object(F.jsx)(L.a,{placeholder:"search participant"})]})}),Object(F.jsx)(R.a,{children:Object(F.jsx)(U.a,{color:"primary",onClick:function(){return te()},children:"Add"})})]},"secondary")]})]})}),Object(F.jsx)(Z,{ref:V,className:"user-chats",options:{wheelPropagation:!1},children:N.chat?Object(F.jsx)("div",{className:"chats",children:function(){var e=[];N.chat&&(e=N.chat.chat);var s=[],a=e[0]?e[0].senderId:void 0,t={senderId:a,messages:[]};return e.forEach((function(c,n){a===c.senderId?t.messages.push({msg:c.message,time:c.time}):(a=c.senderId,s.push(t),t={senderId:c.senderId,messages:[{msg:c.message,time:c.time}]}),n===e.length-1&&s.push(t)})),s}().map((function(e,s){return Object(F.jsxs)("div",{className:x()("chat",{"chat-left":11!==e.senderId}),children:[Object(F.jsx)("div",{className:"chat-avatar",children:Object(F.jsx)(r.a,{className:"box-shadow-1 cursor-pointer",img:11===e.senderId?O.avatar:N.contact.avatar})}),Object(F.jsx)("div",{className:"chat-body",children:e.messages.map((function(e){return Object(F.jsx)("div",{className:"chat-content",children:Object(F.jsx)("p",{children:e.msg})},e.msg)}))})]},s)}))}):null}),G?Object(F.jsxs)("div",{className:"animate__animated animate__fadeIn animate_faster d-flex  chat-icons",children:[Object(F.jsxs)("span",{className:"each-icon",children:[" ",Object(F.jsx)(S.a,{size:20})," "]}),Object(F.jsxs)("span",{className:"each-icon",children:[" ",Object(F.jsx)(j.c,{size:20})," "]}),Object(F.jsxs)("span",{className:"each-icon",children:[" ",Object(F.jsx)(d.b,{size:20})," "]})]}):null,Object(F.jsxs)(D.a,{className:"chat-app-form",onSubmit:function(e){return Y(e)},children:[Object(F.jsxs)(I.a,{className:"input-group-merge mr-1 form-send-message",children:[Object(F.jsx)(P.a,{addonType:"append",children:Object(F.jsx)(_.a,{onClick:function(){return J((function(e){return!e}))},children:Object(F.jsx)("div",{className:"icon ",children:Object(F.jsx)(j.b,{size:22})})})}),Object(F.jsx)(L.a,{value:K,onChange:function(e){return Q(e.target.value)},placeholder:"Type your message or use speech to text"})]}),Object(F.jsxs)(U.a,{className:"send",color:"primary",children:[Object(F.jsx)(w.a,{size:14,className:"d-lg-none"}),Object(F.jsx)("span",{className:"d-none d-lg-block",children:"Send"})]})]})]}):null]})},W=a(121),G=a(491),J=a(953),V=a(1018),B=a(1010),X=a(990),q=a(1117),K=a(480),Q=a(988),Y=a(951),Z=function(e){var s=e.store,a=e.sidebar,n=e.handleSidebar,l=e.userSidebarLeft,i=e.handleUserSidebarLeft,j=s.chats,d=s.contacts,b=s.userProfile,h=Object(o.b)(),m=Object(c.useState)(""),O=Object(t.a)(m,2),N=O[0],p=O[1],f=Object(c.useState)(""),v=Object(t.a)(f,2),S=v[0],w=v[1],C=Object(c.useState)({}),k=Object(t.a)(C,2),z=k[0],T=k[1],M=Object(c.useState)("online"),A=Object(t.a)(M,2),E=A[0],R=A[1],D=Object(c.useState)([]),H=Object(t.a)(D,2),Z=H[0],$=H[1],ee=Object(c.useState)([]),se=Object(t.a)(ee,2),ae=se[0],te=se[1],ce=function(e,s){h(u(s)),T({type:e,id:s}),!0===a&&n()};return s?Object(F.jsx)("div",{className:"sidebar-left",children:Object(F.jsxs)("div",{className:"sidebar",children:[Object(F.jsxs)("div",{className:x()("chat-profile-sidebar",{show:l}),children:[Object(F.jsxs)("header",{className:"chat-profile-header",children:[Object(F.jsx)("div",{className:"close-icon",onClick:i,children:Object(F.jsx)(J.a,{size:14})}),Object(F.jsxs)("div",{className:"header-profile-sidebar",children:[Object(F.jsx)(r.a,{className:"box-shadow-1 avatar-border",img:b.avatar,status:E,size:"xl"}),Object(F.jsx)("h4",{className:"chat-user-name",children:b.fullName}),Object(F.jsx)("span",{className:"user-post",children:b.role})]})]}),Object(F.jsxs)(g.a,{className:"profile-sidebar-area",options:{wheelPropagation:!1},children:[Object(F.jsx)("h6",{className:"section-label mb-1",children:"About"}),Object(F.jsxs)("div",{className:"about-user",children:[Object(F.jsx)(L.a,{rows:"5",defaultValue:b.about,type:"textarea",onChange:function(e){return p(e.target.value)},className:x()("char-textarea",{"text-danger":N&&N.length>120})}),Object(F.jsxs)("small",{className:"counter-value float-right",children:[Object(F.jsx)("span",{className:"char-count",children:b.about?b.about.length:0}),"/ 120"]})]}),Object(F.jsx)("h6",{className:"section-label mb-1 mt-3",children:"Status"}),Object(F.jsxs)("ul",{className:"list-unstyled user-status",children:[Object(F.jsx)("li",{className:"pb-1",children:Object(F.jsx)(Y.a,{type:"radio",className:"custom-control-primary",id:"online",label:"Online",onChange:function(e){return R("online")},checked:"online"===E})}),Object(F.jsx)("li",{className:"pb-1",children:Object(F.jsx)(Y.a,{type:"radio",className:"custom-control-danger",id:"busy",label:"Do Not Disturb",onChange:function(e){return R("busy")},checked:"busy"===E})}),Object(F.jsx)("li",{className:"pb-1",children:Object(F.jsx)(Y.a,{type:"radio",className:"custom-control-warning",id:"away",label:"Away",onChange:function(e){return R("away")},checked:"away"===E})}),Object(F.jsx)("li",{className:"pb-1",children:Object(F.jsx)(Y.a,{type:"radio",className:"custom-control-secondary",id:"offline",label:"Offline",onChange:function(e){return R("offline")},checked:"offline"===E})})]}),Object(F.jsx)("h6",{className:"section-label mb-1 mt-2",children:"Settings"}),Object(F.jsxs)("ul",{className:"list-unstyled",children:[Object(F.jsxs)("li",{className:"d-flex justify-content-between align-items-center mb-1",children:[Object(F.jsxs)("div",{className:"d-flex align-items-center",children:[Object(F.jsx)(V.a,{className:"mr-75",size:"18"}),Object(F.jsx)("span",{className:"align-middle",children:"Two-step Verification"})]}),Object(F.jsx)(Y.a,{type:"switch",id:"verification",name:"verification",label:"",defaultChecked:!0})]}),Object(F.jsxs)("li",{className:"d-flex justify-content-between align-items-center mb-1",children:[Object(F.jsxs)("div",{className:"d-flex align-items-center",children:[Object(F.jsx)(B.a,{className:"mr-75",size:"18"}),Object(F.jsx)("span",{className:"align-middle",children:"Notification"})]}),Object(F.jsx)(Y.a,{type:"switch",id:"notifications",name:"notifications",label:""})]}),Object(F.jsxs)("li",{className:"d-flex align-items-center cursor-pointer mb-1",children:[Object(F.jsx)(X.a,{className:"mr-75",size:"18"}),Object(F.jsx)("span",{className:"align-middle",children:"Invite Friends"})]}),Object(F.jsxs)("li",{className:"d-flex align-items-center cursor-pointer",children:[Object(F.jsx)(q.a,{className:"mr-75",size:"18"}),Object(F.jsx)("span",{className:"align-middle",children:"Delete Account"})]})]}),Object(F.jsx)("div",{className:"mt-3",children:Object(F.jsx)(U.a,{color:"primary",children:"Logout"})})]})]}),Object(F.jsxs)("div",{className:x()("sidebar-content",{show:!0===a}),children:[Object(F.jsx)("div",{className:"sidebar-close-icon",onClick:n,children:Object(F.jsx)(J.a,{size:14})}),Object(F.jsx)("div",{className:"chat-fixed-search",children:Object(F.jsxs)("div",{className:"d-flex align-items-center w-100",children:[Object(F.jsx)("div",{className:"sidebar-profile-toggle",onClick:i,children:Object.keys(b).length?Object(F.jsx)(r.a,{className:"avatar-border",img:b.avatar,status:E,imgHeight:"42",imgWidth:"42"}):null}),Object(F.jsxs)(I.a,{className:"input-group-merge ml-1 w-100",children:[Object(F.jsx)(P.a,{addonType:"prepend",children:Object(F.jsx)(_.a,{className:"round",children:Object(F.jsx)(y.a,{className:"text-muted",size:14})})}),Object(F.jsx)(L.a,{value:S,className:"round",placeholder:"Search or start a new chat",onChange:function(e){w(e.target.value);var s=function(s){return s.fullName.toLowerCase().includes(e.target.value.toLowerCase())},a=j.filter(s),t=d.filter(s);$(Object(W.a)(a)),te(Object(W.a)(t))}})]})]})}),Object(F.jsxs)(g.a,{className:"chat-user-list-wrapper list-group",options:{wheelPropagation:!1},children:[Object(F.jsx)("h4",{className:"chat-list-title",children:"Chats"}),Object(F.jsx)("ul",{className:"chat-users-list chat-list media-list",children:j&&j.length?S.length&&!Z.length?Object(F.jsx)("li",{className:"no-results show",children:Object(F.jsx)("h6",{className:"mb-0",children:"No Chats Found"})}):(S.length&&Z.length?Z:j).map((function(e){var s=Object(G.b)(e.chat.lastMessage?e.chat.lastMessage.time:new Date);return Object(F.jsxs)("li",{className:x()({active:"chat"===z.type&&z.id===e.id}),onClick:function(){return ce("chat",e.id)},children:[Object(F.jsx)(r.a,{img:e.avatar,imgHeight:"42",imgWidth:"42",status:e.status}),Object(F.jsxs)("div",{className:"chat-info flex-grow-1",children:[Object(F.jsx)("h5",{className:"mb-0",children:e.fullName}),Object(F.jsx)(K.a,{className:"text-truncate",children:e.chat.lastMessage?e.chat.lastMessage.message:j[j.length-1].message})]}),Object(F.jsxs)("div",{className:"chat-meta text-nowrap",children:[Object(F.jsx)("small",{className:"float-right mb-25 chat-time ml-25",children:s}),e.chat.unseenMsgs>=1?Object(F.jsx)(Q.a,{className:"float-right",color:"danger",pill:!0,children:e.chat.unseenMsgs}):null]})]},e.id)})):null}),Object(F.jsx)("h4",{className:"chat-list-title",children:"Contacts"}),Object(F.jsx)("ul",{className:"chat-users-list contact-list media-list",children:d&&d.length?S.length&&!ae.length?Object(F.jsx)("li",{className:"no-results show",children:Object(F.jsx)("h6",{className:"mb-0",children:"No Chats Found"})}):(S.length&&ae.length?ae:d).map((function(e){return Object(F.jsxs)("li",{className:x()({active:"contact"===z.type&&z.id===e.id}),onClick:function(){return ce("contact",e.id)},children:[Object(F.jsx)(r.a,{img:e.avatar,imgHeight:"42",imgWidth:"42"}),Object(F.jsxs)("div",{className:"chat-info flex-grow-1",children:[Object(F.jsx)("h5",{className:"mb-0",children:e.fullName}),Object(F.jsx)(K.a,{className:"text-truncate",children:e.about})]})]},e.fullName)})):null})]})]})]})}):null},$=a(1077),ee=a(1090),se=a(1028),ae=a(1113),te=a(1110),ce=a(1108),ne=function(e){var s=e.user,a=e.handleUserSidebarRight,t=e.userSidebarRight;return Object(F.jsxs)("div",{className:x()("user-profile-sidebar",{show:!0===t}),children:[Object(F.jsxs)("header",{className:"user-profile-header",children:[Object(F.jsx)("span",{className:"close-icon",onClick:a,children:Object(F.jsx)(J.a,{size:14})}),Object(F.jsxs)("div",{className:"header-profile-sidebar",children:[Object(F.jsx)(r.a,{className:"box-shadow-1 avatar-border",size:"xl",status:s.status,img:s.avatar,imgHeight:"70",imgWidth:"70"}),Object(F.jsx)("h4",{className:"chat-user-name",children:s.fullName}),Object(F.jsx)("span",{className:"user-post",children:s.role})]})]}),Object(F.jsxs)(g.a,{className:"user-profile-sidebar-area",options:{wheelPropagation:!1},children:[Object(F.jsx)("h6",{className:"section-label mb-1",children:"About"}),Object(F.jsx)("p",{children:s.about}),Object(F.jsxs)("div",{className:"personal-info",children:[Object(F.jsx)("h6",{className:"section-label mb-1 mt-3",children:"Personal Information"}),Object(F.jsxs)("ul",{className:"list-unstyled",children:[Object(F.jsxs)("li",{className:"mb-1",children:[Object(F.jsx)($.a,{className:"mr-50",size:17}),Object(F.jsx)("span",{className:"align-middle",children:"lucifer@email.com"})]}),Object(F.jsxs)("li",{className:"mb-1",children:[Object(F.jsx)(ee.a,{className:"mr-50",size:17}),Object(F.jsx)("span",{className:"align-middle",children:" +1(123) 456 - 7890"})]}),Object(F.jsxs)("li",{children:[Object(F.jsx)(se.a,{className:"mr-50",size:17}),Object(F.jsx)("span",{className:"align-middle",children:" Mon - Fri 10AM - 8PM"})]})]})]}),Object(F.jsxs)("div",{className:"more-options",children:[Object(F.jsx)("h6",{className:"section-label mb-1 mt-3",children:"Options"}),Object(F.jsxs)("ul",{className:"list-unstyled",children:[Object(F.jsxs)("li",{className:"cursor-pointer mb-1",children:[Object(F.jsx)(ae.a,{className:"mr-50",size:17}),Object(F.jsx)("span",{className:"align-middle",children:" Add Tag"})]}),Object(F.jsxs)("li",{className:"cursor-pointer mb-1",children:[Object(F.jsx)(te.a,{className:"mr-50",size:17}),Object(F.jsx)("span",{className:"align-middle",children:" Important Contact"})]}),Object(F.jsxs)("li",{className:"cursor-pointer mb-1",children:[Object(F.jsx)(S.a,{className:"mr-50",size:17}),Object(F.jsx)("span",{className:"align-middle",children:" Shared Media"})]}),Object(F.jsxs)("li",{className:"cursor-pointer mb-1",children:[Object(F.jsx)(q.a,{className:"mr-50",size:17}),Object(F.jsx)("span",{className:"align-middle",children:" Delete Contact"})]}),Object(F.jsxs)("li",{className:"cursor-pointer",children:[Object(F.jsx)(ce.a,{className:"mr-50",size:17}),Object(F.jsx)("span",{className:"align-middle",children:"Block Contact"})]})]})]})]})]})};a(1443),a(821),s.default=function(){var e=Object(o.b)(),s=Object(o.c)((function(e){return e.chat})),a=Object(c.useState)({}),n=Object(t.a)(a,2),l=n[0],i=n[1],r=Object(c.useState)(!1),j=Object(t.a)(r,2),d=j[0],b=j[1],u=Object(c.useState)(!1),O=Object(t.a)(u,2),N=O[0],g=O[1],p=Object(c.useState)(!1),f=Object(t.a)(p,2),v=f[0],y=f[1],S=function(){return b(!d)},w=function(){return g(!N)};return Object(c.useEffect)((function(){e(m()),e((function(e){return h.a.get("/apps/chat/users/profile-user").then((function(s){return e({type:"GET_USER_PROFILE",userProfile:s.data})}))}))}),[e]),Object(F.jsxs)(c.Fragment,{children:[Object(F.jsx)(Z,{store:s,sidebar:d,handleSidebar:S,userSidebarLeft:v,handleUserSidebarLeft:function(){return y(!v)}}),Object(F.jsx)("div",{className:"content-right",children:Object(F.jsx)("div",{className:"content-wrapper",children:Object(F.jsxs)("div",{className:"content-body",children:[Object(F.jsx)("div",{className:x()("body-content-overlay",{show:!0===N||!0===d||!0===v}),onClick:function(){b(!1),g(!1),y(!1)}}),Object(F.jsx)(H,{store:s,handleUser:function(e){return i(e)},handleSidebar:S,userSidebarLeft:v,handleUserSidebarRight:w}),Object(F.jsx)(ne,{user:l,userSidebarRight:N,handleUserSidebarRight:w})]})})})]})}},480:function(e,s,a){"use strict";var t=a(14),c=a(20),n=a(0),l=a.n(n),i=a(5),r=a.n(i),j=a(58),d=a.n(j),o=a(80),b={tag:o.tagPropType,className:r.a.string,cssModule:r.a.object},h=function(e){var s=e.className,a=e.cssModule,n=e.tag,i=Object(c.a)(e,["className","cssModule","tag"]),r=Object(o.mapToCssModules)(d()(s,"card-text"),a);return l.a.createElement(n,Object(t.a)({},i,{className:r}))};h.propTypes=b,h.defaultProps={tag:"p"},s.a=h},821:function(e,s,a){}}]);
//# sourceMappingURL=149.9ddf48e4.chunk.js.map