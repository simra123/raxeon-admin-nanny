(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[74],{1270:function(e,t,a){"use strict";a.r(t);var c=a(466),n=a.n(c),r=a(467),s=a(15),i=a(0),l=a(485),j=a.n(l),o=a(502),d=a.n(o),u=a(505),b=(a(474),a(493),a(691)),O=a(671),h=a(703),x=a(465),m=a(477),f=a(470),p=a(120),g=a(481),v=a(483),y=a(484),N=a(463),w=a(500),S=a(496),k=a(497),_=a(499),C=a(486),z=a(487),B=a(498),D=a(482),F=a(1240),U=a(1327),A=a(1241),E=a(1243),J=a(6);t.default=function(){var e=Object(i.useState)(null),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(i.useState)(null),o=Object(s.a)(l,2),P=o[0],L=o[1],M=Object(i.useState)(null),R=Object(s.a)(M,2),q=R[0],G=R[1],H=Object(i.useState)([]),I=Object(s.a)(H,2),K=I[0],Q=I[1],T=Object(i.useState)([]),V=Object(s.a)(T,2),W=V[0],X=V[1],Y=Object(i.useState)([]),Z=Object(s.a)(Y,2),$=Z[0],ee=Z[1];Object(i.useEffect)((function(){var e=function(){var e=Object(r.a)(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/banner/mobile");case 2:t=e.sent,a=t.data,Q(a.data),console.log(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}));var te=function(e){c(a!==e?e:null)},ae=function(e){L(P!==e?e:null)},ce=function(e){G(q!==e?e:null)},ne=Object(i.useState)(null),re=Object(s.a)(ne,2),se=re[0],ie=re[1],le=Object(i.useState)(null),je=Object(s.a)(le,2),oe=je[0],de=je[1],ue=new j.a({meta:{type:"avatar"},restrictions:{maxNumberOfFiles:1},autoProceed:!0});ue.use(d.a),ue.on("thumbnail:generated",(function(e,t){ie(e.data),ee(t)}));var be=new j.a({meta:{type:"avatar"},restrictions:{maxNumberOfFiles:1},autoProceed:!0});be.use(d.a),be.on("thumbnail:generated",(function(e,t){de(e.data),X(t)}));var Oe=new FormData;Oe.append("file",se);var he=function(){var e=Object(r.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,x.a.post("/banner/mobile",Oe,{});case 3:a=e.sent,console.log(a),console.log(a),a.data.success?(p.c.success(Object(J.jsx)(f.b,{title:"Success",text:"Banner Uploaded Successfully!"})),G(null)):p.c.error(Object(J.jsx)(f.a,{title:"error",text:"Something went wrong, try again later"}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(r.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.delete("/banner?id=".concat(t));case 2:a=e.sent,console.log(a),a.data.success?(p.c.success(Object(J.jsx)(f.b,{title:"Success",text:"Banner Deleted Successfully!"})),c(null)):p.c.error(Object(J.jsx)(f.a,{title:"error",text:"Something went wrong, try again later"}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=new FormData;me.append("file",oe);var fe=function(){var e=Object(r.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.put("/banner/".concat(t),me,{});case 2:a=e.sent,console.log(a),a.data.success?(p.c.success(Object(J.jsx)(f.b,{title:"Success",text:"Banner Updated Successfully!"})),L(null)):p.c.error(Object(J.jsx)(f.a,{title:"error",text:"Something went wrong, try again later"}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(g.a,{children:Object(J.jsxs)(v.a,{children:[Object(J.jsx)(y.a,{children:"All Mobile Banners "}),Object(J.jsxs)("div",{className:"float-right mb-2",children:[Object(J.jsx)(N.a,{color:"primary",onClick:function(){return ce(0)},children:"Add new Banner"}),Object(J.jsxs)(w.a,{isOpen:0===q,toggle:function(){return ce(0)},className:"modal-dialog-centered",modalClassName:"modal-primary",children:[Object(J.jsx)(S.a,{toggle:function(){return ce(0)},children:"Upload"}),Object(J.jsx)(k.a,{children:Object(J.jsx)(_.a,{children:Object(J.jsx)(C.a,{children:Object(J.jsxs)(z.a,{sm:"12",className:"mt-2",children:[Object(J.jsx)("h6",{children:" Upload Banners "}),Object(J.jsx)(u.a,{uppy:ue}),null!==se?Object(J.jsx)("img",{className:"rounded mt-2",src:$,alt:"avatar"}):null]})})})}),Object(J.jsx)(B.a,{children:Object(J.jsx)(N.a,{color:"primary",onClick:function(e){return he(e)},children:"Submit"})})]},0)]}),Object(J.jsxs)(D.a,{responsive:!0,children:[Object(J.jsx)("thead",{children:Object(J.jsxs)("tr",{children:[Object(J.jsx)("th",{children:"S.No"}),Object(J.jsx)("th",{children:"Banners"}),Object(J.jsx)("th",{children:"Actions"})]})}),Object(J.jsx)("tbody",{children:K.map((function(e,t){return Object(J.jsxs)("tr",{children:[Object(J.jsx)("td",{children:t+1}),Object(J.jsxs)("td",{children:[" ",Object(J.jsx)("img",{src:m.a+e.image,width:"100",height:"100",alt:""})," "]}),Object(J.jsxs)("td",{children:[Object(J.jsxs)(F.a,{children:[Object(J.jsx)(U.a,{className:"icon-btn hide-arrow",color:"transparent",size:"sm",caret:!0,children:Object(J.jsx)(b.a,{size:15})}),Object(J.jsxs)(A.a,{right:!0,children:[Object(J.jsxs)(E.a,{href:"/",onClick:function(t){t.preventDefault(),ae(e._id)},children:[Object(J.jsx)(O.a,{className:"mr-50",size:15}),"  ",Object(J.jsx)("span",{className:"align-middle",children:"Edit"})]}),Object(J.jsxs)(E.a,{href:"/",onClick:function(t){t.preventDefault(),te(e._id)},children:[Object(J.jsx)(h.a,{className:"mr-50",size:15})," ",Object(J.jsx)("span",{className:"align-middle",children:"Delete"})]})]})]}),Object(J.jsxs)(w.a,{isOpen:P===e._id,toggle:function(){return ae(e.id)},className:"modal-dialog-centered",modalClassName:"modal-primary",children:[Object(J.jsx)(S.a,{toggle:function(){return ae(e._id)},children:"Edit"}),Object(J.jsx)(k.a,{children:Object(J.jsx)(_.a,{children:Object(J.jsx)(C.a,{children:Object(J.jsxs)(z.a,{sm:"12",className:"mt-2",children:[Object(J.jsx)("h6",{children:" edit Banner "}),Object(J.jsx)(u.a,{uppy:be}),null!==oe?Object(J.jsx)("img",{className:"rounded mt-2",src:W,alt:"avatar"}):null]})})})}),Object(J.jsx)(B.a,{children:Object(J.jsx)(N.a,{color:"primary",onClick:function(){return fe(e._id)},children:"Submit"})})]},e._id),Object(J.jsxs)(w.a,{isOpen:a===e._id,toggle:function(){return te(e._id)},className:"modal-dialog-centered",modalClassName:"modal-danger",children:[Object(J.jsx)(S.a,{toggle:function(){return te(e._id)},children:"Delete"}),Object(J.jsx)(k.a,{children:"Are you sure you want to delete this?"}),Object(J.jsx)(B.a,{children:Object(J.jsx)(N.a,{color:"danger",onClick:function(){return xe(e._id)},children:"delete"})})]},e.id)]})]},t)}))})]})]})})})}},465:function(e,t,a){"use strict";var c=a(80),n=a.n(c);t.a=n.a.create({baseURL:"https://nanybackend.herokuapp.com"})},470:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return j}));var c=a(0),n=a(473),r=a(649),s=a(624),i=(a(650),a(680),a(6)),l=function(e){return Object(i.jsxs)(c.Fragment,{children:[Object(i.jsx)("div",{className:"toastify-header",children:Object(i.jsxs)("div",{className:"title-wrapper",children:[Object(i.jsx)(n.a,{size:"sm",color:"success",icon:Object(i.jsx)(r.a,{size:12})}),Object(i.jsx)("h6",{className:"toast-title",children:"Success!"})]})}),Object(i.jsx)("div",{className:"toastify-body",children:Object(i.jsx)("span",{role:"img","aria-label":"toast-text",children:e.text})})]})},j=function(e){return Object(i.jsxs)(c.Fragment,{children:[Object(i.jsx)("div",{className:"toastify-header",children:Object(i.jsxs)("div",{className:"title-wrapper",children:[Object(i.jsx)(n.a,{size:"sm",color:"danger",icon:Object(i.jsx)(s.a,{size:12})}),Object(i.jsx)("h6",{className:"toast-title",children:"Error!"})]})}),Object(i.jsx)("div",{className:"toastify-body",children:Object(i.jsx)("span",{role:"img","aria-label":"toast-text",children:e.text})})]})}},474:function(e,t,a){},477:function(e,t,a){"use strict";t.a="https://nanybackend.herokuapp.com/image/"}}]);
//# sourceMappingURL=74.b4c9e88a.chunk.js.map