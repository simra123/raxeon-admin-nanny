(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[73],{1271:function(e,t,c){"use strict";c.r(t);var a=c(465),n=c.n(a),s=c(466),r=c(15),i=c(0),l=c(486),j=c.n(l),o=c(502),d=c.n(o),u=c(505),b=(c(473),c(493),c(693)),O=c(673),h=c(705),x=c(467),m=c(478),f=c(472),p=c(120),g=c(479),v=c(482),y=c(485),w=c(463),N=c(500),S=c(496),k=c(497),_=c(499),C=c(483),D=c(484),z=c(498),B=c(480),F=c(1242),U=c(1325),A=c(1243),E=c(1245),J=c(6);t.default=function(){var e=Object(i.useState)(null),t=Object(r.a)(e,2),c=t[0],a=t[1],l=Object(i.useState)(null),o=Object(r.a)(l,2),P=o[0],L=o[1],R=Object(i.useState)(null),q=Object(r.a)(R,2),G=q[0],H=q[1],I=Object(i.useState)([]),K=Object(r.a)(I,2),M=K[0],Q=K[1],T=Object(i.useState)([]),V=Object(r.a)(T,2),W=V[0],X=V[1],Y=Object(i.useState)([]),Z=Object(r.a)(Y,2),$=Z[0],ee=Z[1];Object(i.useEffect)((function(){var e=function(){var e=Object(s.a)(n.a.mark((function e(){var t,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/banner/web");case 2:t=e.sent,c=t.data,Q(c.data),console.log(c);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}));var te=function(e){a(c!==e?e:null)},ce=function(e){L(P!==e?e:null)},ae=function(e){H(G!==e?e:null)},ne=Object(i.useState)(null),se=Object(r.a)(ne,2),re=se[0],ie=se[1],le=Object(i.useState)(null),je=Object(r.a)(le,2),oe=je[0],de=je[1],ue=new j.a({meta:{type:"avatar"},restrictions:{maxNumberOfFiles:1},autoProceed:!0});ue.use(d.a),ue.on("thumbnail:generated",(function(e,t){ie(e.data),ee(t)}));var be=new j.a({meta:{type:"avatar"},restrictions:{maxNumberOfFiles:1},autoProceed:!0});be.use(d.a),be.on("thumbnail:generated",(function(e,t){de(e.data),X(t)}));var Oe=new FormData;Oe.append("file",re);var he=function(){var e=Object(s.a)(n.a.mark((function e(t){var c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,x.a.post("/banner/web",Oe,{});case 3:c=e.sent,console.log(c),console.log(c),c.data.success?(p.c.success(Object(J.jsx)(f.b,{title:"Success",text:"Banner Uploaded Successfully!"})),H(null)):p.c.error(Object(J.jsx)(f.a,{title:"error",text:"Something went wrong, try again later"}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(s.a)(n.a.mark((function e(t){var c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.delete("/banner?id=".concat(t));case 2:c=e.sent,console.log(c),c.data.success?(p.c.success(Object(J.jsx)(f.b,{title:"Success",text:"Banner Deleted Successfully!"})),a(null)):p.c.error(Object(J.jsx)(f.a,{title:"error",text:"Something went wrong, try again later"}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=new FormData;me.append("file",oe);var fe=function(){var e=Object(s.a)(n.a.mark((function e(t){var c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.put("/banner/".concat(t),me,{});case 2:c=e.sent,console.log(c),c.data.success?(p.c.success(Object(J.jsx)(f.b,{title:"Success",text:"Banner Updated Successfully!"})),L(null)):p.c.error(Object(J.jsx)(f.a,{title:"error",text:"Something went wrong, try again later"}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(g.a,{children:Object(J.jsxs)(v.a,{children:[Object(J.jsx)(y.a,{children:"All Desktop Banners "}),Object(J.jsxs)("div",{className:"float-right mb-2",children:[Object(J.jsx)(w.a,{color:"primary",onClick:function(){return ae(0)},children:"Add new Banner"}),Object(J.jsxs)(N.a,{isOpen:0===G,toggle:function(){return ae(0)},className:"modal-dialog-centered",modalClassName:"modal-primary",children:[Object(J.jsx)(S.a,{toggle:function(){return ae(0)},children:"Upload"}),Object(J.jsx)(k.a,{children:Object(J.jsx)(_.a,{children:Object(J.jsx)(C.a,{children:Object(J.jsxs)(D.a,{sm:"12",className:"mt-2",children:[Object(J.jsx)("h6",{children:" Upload Banners "}),Object(J.jsx)(u.a,{uppy:ue}),null!==re?Object(J.jsx)("img",{className:"rounded mt-2",src:$,alt:"avatar"}):null]})})})}),Object(J.jsx)(z.a,{children:Object(J.jsx)(w.a,{color:"primary",onClick:function(e){return he(e)},children:"Submit"})})]},0)]}),Object(J.jsxs)(B.a,{responsive:!0,children:[Object(J.jsx)("thead",{children:Object(J.jsxs)("tr",{children:[Object(J.jsx)("th",{children:"S.No"}),Object(J.jsx)("th",{children:"Banners"}),Object(J.jsx)("th",{children:"Actions"})]})}),Object(J.jsx)("tbody",{children:M.map((function(e,t){return Object(J.jsxs)("tr",{children:[Object(J.jsx)("td",{children:t+1}),Object(J.jsxs)("td",{children:[" ",Object(J.jsx)("img",{src:m.a+e.image,width:"300",height:"100",alt:""})," "]}),Object(J.jsxs)("td",{children:[Object(J.jsxs)(F.a,{children:[Object(J.jsx)(U.a,{className:"icon-btn hide-arrow",color:"transparent",size:"sm",caret:!0,children:Object(J.jsx)(b.a,{size:15})}),Object(J.jsxs)(A.a,{right:!0,children:[Object(J.jsxs)(E.a,{href:"/",onClick:function(t){t.preventDefault(),ce(e._id)},children:[Object(J.jsx)(O.a,{className:"mr-50",size:15}),"  ",Object(J.jsx)("span",{className:"align-middle",children:"Edit"})]}),Object(J.jsxs)(E.a,{href:"/",onClick:function(t){t.preventDefault(),te(e._id)},children:[Object(J.jsx)(h.a,{className:"mr-50",size:15})," ",Object(J.jsx)("span",{className:"align-middle",children:"Delete"})]})]})]}),Object(J.jsxs)(N.a,{isOpen:P===e._id,toggle:function(){return ce(e.id)},className:"modal-dialog-centered",modalClassName:"modal-primary",children:[Object(J.jsx)(S.a,{toggle:function(){return ce(e._id)},children:"Edit"}),Object(J.jsx)(k.a,{children:Object(J.jsx)(_.a,{children:Object(J.jsx)(C.a,{children:Object(J.jsxs)(D.a,{sm:"12",className:"mt-2",children:[Object(J.jsx)("h6",{children:" edit Banner "}),Object(J.jsx)(u.a,{uppy:be}),null!==oe?Object(J.jsx)("img",{className:"rounded mt-2",src:W,alt:"avatar"}):null]})})})}),Object(J.jsx)(z.a,{children:Object(J.jsx)(w.a,{color:"primary",onClick:function(){return fe(e._id)},children:"Submit"})})]},e._id),Object(J.jsxs)(N.a,{isOpen:c===e._id,toggle:function(){return te(e._id)},className:"modal-dialog-centered",modalClassName:"modal-danger",children:[Object(J.jsx)(S.a,{toggle:function(){return te(e._id)},children:"Delete"}),Object(J.jsx)(k.a,{children:"Are you sure you want to delete this?"}),Object(J.jsx)(z.a,{children:Object(J.jsx)(w.a,{color:"danger",onClick:function(){return xe(e._id)},children:"delete"})})]},e.id)]})]},t)}))})]})]})})})}},467:function(e,t,c){"use strict";var a=c(80),n=c.n(a);t.a=n.a.create({baseURL:"http://localhost:4000"})},472:function(e,t,c){"use strict";c.d(t,"b",(function(){return l})),c.d(t,"a",(function(){return j}));var a=c(0),n=c(474),s=c(651),r=c(626),i=(c(652),c(682),c(6)),l=function(e){return Object(i.jsxs)(a.Fragment,{children:[Object(i.jsx)("div",{className:"toastify-header",children:Object(i.jsxs)("div",{className:"title-wrapper",children:[Object(i.jsx)(n.a,{size:"sm",color:"success",icon:Object(i.jsx)(s.a,{size:12})}),Object(i.jsx)("h6",{className:"toast-title",children:"Success!"})]})}),Object(i.jsx)("div",{className:"toastify-body",children:Object(i.jsx)("span",{role:"img","aria-label":"toast-text",children:e.text})})]})},j=function(e){return Object(i.jsxs)(a.Fragment,{children:[Object(i.jsx)("div",{className:"toastify-header",children:Object(i.jsxs)("div",{className:"title-wrapper",children:[Object(i.jsx)(n.a,{size:"sm",color:"danger",icon:Object(i.jsx)(r.a,{size:12})}),Object(i.jsx)("h6",{className:"toast-title",children:"Error!"})]})}),Object(i.jsx)("div",{className:"toastify-body",children:Object(i.jsx)("span",{role:"img","aria-label":"toast-text",children:e.text})})]})}},473:function(e,t,c){},478:function(e,t,c){"use strict";t.a="http://localhost:4000/"}}]);
//# sourceMappingURL=73.e129f11d.chunk.js.map