(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[54],{1264:function(e,t,a){"use strict";a.r(t);var c=a(21),s=a(1),n=a(466),r=a.n(n),i=a(467),j=a(15),o=a(0),l=a(485),d=a.n(l),u=a(502),b=a.n(u),h=a(505),x=a(504),p=(a(475),a(474),a(493),a(470)),m=a(120),O=a(481),g=a(495),f=a(484),y=a(483),v=a(499),N=a(486),w=a(487),k=a(479),C=a(489),S=a(1239),z=a(491),E=a(472),F=a(492),D=a(463),R=a(509),T=a(501),J=a(465),L=a(477),P=a(6);t.default=function(){var e=Object(o.useState)(null),t=Object(j.a)(e,2),a=t[0],n=t[1],l=Object(o.useState)(!1),u=Object(j.a)(l,2),U=u[0],_=u[1],I=Object(o.useState)(null),Y=Object(j.a)(I,2),q=Y[0],A=Y[1],B=new URLSearchParams(Object(x.h)().search).get("_id"),G=Object(x.g)(),H=Object(o.useState)({heading:"",text:""}),K=Object(j.a)(H,2),M=K[0],Q=K[1];Object(o.useEffect)((function(){var e=function(){var e=Object(i.a)(r.a.mark((function e(){var t,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.a.get("/category?_id=".concat(B));case 3:t=e.sent,a=t.data,c=a.data[0],n(c.image),Q({heading:c.heading,text:c.text}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var V=new d.a({meta:{type:"avatar"},restrictions:{maxNumberOfFiles:1},autoProceed:!0});V.use(b.a),V.on("thumbnail:generated",(function(e,t){n(e.data),A(t)}));var W=function(e){var t=e.target,a=t.name,n=t.value;Q((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(c.a)({},a,n))}))},X=new FormData;X.append("heading",M.heading),X.append("text",M.text),X.append("file",a);var Z=function(){var e=Object(i.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,J.a.put("/category/".concat(B),X,{});case 3:a=e.sent,console.log(a),a.data.success?(m.c.success(Object(P.jsx)(p.b,{title:"Success",text:"Category updated Successfully!"})),_(!0),setTimeout((function(){G.push("/category/list")}),1e3)):(console.log(a.data.message),_(!1),m.c.error(Object(P.jsx)(p.a,{title:"error",text:a.data.message})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsxs)(O.a,{children:[Object(P.jsx)(g.a,{children:Object(P.jsx)(f.a,{tag:"h4",children:"Edit the Category"})}),Object(P.jsx)(y.a,{children:Object(P.jsx)(v.a,{children:Object(P.jsxs)(N.a,{children:[Object(P.jsxs)(w.a,{sm:"12",children:[Object(P.jsx)(k.a,{for:"name",children:"Category Name"}),Object(P.jsxs)(C.a,{className:"input-group-merge",tag:S.a,children:[Object(P.jsx)(z.a,{addonType:"prepend",children:Object(P.jsx)(E.a,{children:Object(P.jsx)(T.g,{size:15})})}),Object(P.jsx)(F.a,{type:"text",name:"heading",value:M.heading,id:"name",onChange:W,placeholder:"Enter Category Name"})]})]}),Object(P.jsxs)(w.a,{sm:"12",md:"6",children:[Object(P.jsx)(k.a,{for:"descrip",children:"Category Description"}),Object(P.jsxs)(C.a,{className:"input-group-merge",tag:S.a,children:[Object(P.jsx)(z.a,{addonType:"prepend",children:Object(P.jsx)(E.a,{children:Object(P.jsx)(T.i,{size:15})})}),Object(P.jsx)(F.a,{type:"text",name:"text",id:"descrip",value:M.text,placeholder:"Enter Your Category description",onChange:W})]})]}),Object(P.jsxs)(w.a,{sm:"12",className:"mt-2",children:[Object(P.jsx)("h6",{children:" Category Image "}),Object(P.jsx)(h.a,{uppy:V}),null!==a?Object(P.jsx)("img",{className:"rounded mt-2",src:q||L.a+a,alt:"avatar"}):null]}),Object(P.jsx)(w.a,{sm:"12",className:"mt-4",children:Object(P.jsxs)(S.a,{className:"d-flex mb-0",children:[Object(P.jsx)(D.a.Ripple,{className:"mr-1",color:"primary",type:"submit",onClick:function(e){return Z(e)},children:"Submit"}),U?Object(P.jsx)(R.a,{color:"primary"}):null]})})]})})})]})}},465:function(e,t,a){"use strict";var c=a(80),s=a.n(c);t.a=s.a.create({baseURL:"https://nanybackend.herokuapp.com"})},470:function(e,t,a){"use strict";a.d(t,"b",(function(){return j})),a.d(t,"a",(function(){return o}));var c=a(0),s=a(473),n=a(649),r=a(624),i=(a(650),a(680),a(6)),j=function(e){return Object(i.jsxs)(c.Fragment,{children:[Object(i.jsx)("div",{className:"toastify-header",children:Object(i.jsxs)("div",{className:"title-wrapper",children:[Object(i.jsx)(s.a,{size:"sm",color:"success",icon:Object(i.jsx)(n.a,{size:12})}),Object(i.jsx)("h6",{className:"toast-title",children:"Success!"})]})}),Object(i.jsx)("div",{className:"toastify-body",children:Object(i.jsx)("span",{role:"img","aria-label":"toast-text",children:e.text})})]})},o=function(e){return Object(i.jsxs)(c.Fragment,{children:[Object(i.jsx)("div",{className:"toastify-header",children:Object(i.jsxs)("div",{className:"title-wrapper",children:[Object(i.jsx)(s.a,{size:"sm",color:"danger",icon:Object(i.jsx)(r.a,{size:12})}),Object(i.jsx)("h6",{className:"toast-title",children:"Error!"})]})}),Object(i.jsx)("div",{className:"toastify-body",children:Object(i.jsx)("span",{role:"img","aria-label":"toast-text",children:e.text})})]})}},474:function(e,t,a){},475:function(e,t,a){},477:function(e,t,a){"use strict";t.a="https://nanybackend.herokuapp.com/image/"}}]);
//# sourceMappingURL=54.9fa6e1fe.chunk.js.map