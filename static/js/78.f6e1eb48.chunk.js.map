{"version":3,"sources":["views/marketing-banner/index.js","middleware/API.js","views/components/toastify/index.js","middleware/BaseURL.js"],"names":["banner","id","no","image","langs","value","label","Banner","useState","modal","setModal","img","setImg","lang","setLang","preview","setPreview","setId","toggleModalPrimary","useEffect","getBanner","a","Action","get","data","_id","uppy","Uppy","meta","type","restrictions","maxNumberOfFiles","autoProceed","use","thumbnailGenerator","on","file","postBanner","e","put","res","console","log","className","defaultValue","options","style","width","onChange","responsive","map","index","src","baseURL","height","alt","name","inline","defaultChecked","color","size","caret","right","href","onClick","preventDefault","isOpen","toggle","modalClassName","sm","axios","create","SuccessToast","props","icon","role","text","ErrorToast"],"mappings":"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","file":"static/js/78.f6e1eb48.chunk.js","sourcesContent":["import { useState, useEffect } from 'react'\r\nimport Uppy from '@uppy/core'\r\nimport thumbnailGenerator from '@uppy/thumbnail-generator'\r\nimport { DragDrop } from '@uppy/react'\r\nimport '../../@core/scss/react/libs/file-uploader/file-uploader.scss'\r\nimport 'uppy/dist/uppy.css'\r\nimport { MoreVertical, Edit } from 'react-feather'\r\nimport Select from 'react-select'\r\n//import toast types from components \r\nimport { SuccessToast, ErrorToast } from '../components/toastify'\r\n//import toasts from react\r\nimport { toast } from 'react-toastify'\r\nimport Action from '../../middleware/API'\r\nimport baseURL from '../../middleware/BaseURL'\r\n\r\n\r\nimport { Card, Spinner, Form, Row, CustomInput, Col, CardTitle, CardBody, Table, Modal, ModalHeader, ModalBody, ModalFooter, UncontrolledDropdown, DropdownMenu, DropdownItem, DropdownToggle, Button } from 'reactstrap'\r\n\r\nconst banner = [\r\n  {\r\n    id: 1,\r\n    no: 1,\r\n    image: 'https://images.pexels.com/photos/6974315/pexels-photo-6974315.jpeg?cs=srgb&dl=pexels-cottonbro-6974315.jpg&fm=jpg'\r\n  }\r\n\r\n]\r\nconst langs = [\r\n  {\r\n    value: 'French',\r\n    label: 'French'\r\n  },\r\n  {\r\n    value: 'English',\r\n    label: 'English'\r\n  }\r\n\r\n\r\n]\r\nconst Banner = () => {\r\n  const [modal, setModal] = useState(null)\r\n  //file uploader\r\n  const [img, setImg] = useState(null)\r\n  const [lang, setLang] = useState('French')\r\n  const [preview, setPreview] = useState([])\r\n  const [id, setId] = useState('')\r\n\r\n\r\n  const toggleModalPrimary = id => {\r\n    if (modal !== id) {\r\n      setModal(id)\r\n    } else {\r\n      setModal(null)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    const getBanner = async () => {\r\n      const { data } = await Action.get(`/banner/splash?lang=${ lang }`)\r\n      setImg(data.data[0].image)\r\n      setId(data._id)\r\n    }\r\n    getBanner()\r\n  })\r\n\r\n\r\n  const uppy = new Uppy({\r\n    meta: { type: 'avatar' },\r\n    restrictions: { maxNumberOfFiles: 1 },\r\n    autoProceed: true\r\n  })\r\n\r\n  uppy.use(thumbnailGenerator)\r\n\r\n  uppy.on('thumbnail:generated', (file, preview) => {\r\n    setImg(file.data)\r\n    setPreview(preview)\r\n  })\r\n  //post\r\n  const postBanner = async (e) => {\r\n    const res = await Action.put(`/banner/${ id }`)\r\n    console.log(res)\r\n  }\r\n  return (\r\n    <>\r\n      <Card>\r\n        <CardBody>\r\n          <CardTitle>Marketing Banner\r\n\r\n          </CardTitle>\r\n          <Select\r\n            className='react-select my-2 w-25'\r\n            defaultValue={ lang }\r\n            options={ langs }\r\n            style={ { width: \"150px\" } }\r\n            onChange={ (e) => setLang(e.value) }\r\n          />\r\n          <Table responsive>\r\n            <thead>\r\n              <tr>\r\n                <th>S.No</th>\r\n                <th>Banners</th>\r\n                <th>Show</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {\r\n                banner.map((value, index) => {\r\n                  return (\r\n                    <tr key={ index }>\r\n                      <td>\r\n                        { value.no }\r\n                      </td>\r\n\r\n                      <td> <img src={ baseURL + img } width=\"auto\" height=\"230\" alt=\"\" /> </td>\r\n                      <td>\r\n                        <CustomInput\r\n                          className='custom-control-secondary'\r\n                          type='switch'\r\n                          id={ value.id }\r\n                          name='secondary'\r\n                          inline\r\n                          defaultChecked\r\n                        />\r\n                      </td>\r\n                      <td>\r\n                        <UncontrolledDropdown>\r\n                          <DropdownToggle className='icon-btn hide-arrow' color='transparent' size='sm' caret>\r\n                            <MoreVertical size={ 15 } />\r\n                          </DropdownToggle>\r\n                          <DropdownMenu right>\r\n                            <DropdownItem href='/' onClick={ (e) => {\r\n                              e.preventDefault()\r\n                              toggleModalPrimary(value.id)\r\n                            } }>\r\n                              <Edit className='mr-50' size={ 15 } />  <span className='align-middle'>Edit</span>\r\n                            </DropdownItem>\r\n                          </DropdownMenu>\r\n                        </UncontrolledDropdown>\r\n                        <Modal\r\n                          isOpen={ modal === value.id }\r\n                          toggle={ () => toggleModalPrimary(value.id) }\r\n                          className='modal-dialog-centered'\r\n                          modalClassName=\"modal-primary\"\r\n                          key={ value.id }>\r\n                          <ModalHeader toggle={ () => toggleModalPrimary(value.id) }>Edit</ModalHeader>\r\n                          <ModalBody>\r\n                            <Form>\r\n                              <Row>\r\n                                <Col sm='12' className=\"mt-2\">\r\n                                  {/* basic image upload */ }\r\n\r\n                                  <h6> Upload Banner </h6>\r\n                                  <DragDrop uppy={ uppy } />\r\n                                  { img !== null ? <img className='rounded mt-2' src={ preview ? preview : baseURL + img } alt='avatar' /> : null }\r\n                                </Col>\r\n\r\n                              </Row>\r\n                            </Form>\r\n                          </ModalBody>\r\n                          <ModalFooter>\r\n\r\n                            <Button color=\"primary\" onClick={ (e) => postBanner(e) }>\r\n                              Submit\r\n                              {/* spinner */ }\r\n                              {/* <Spinner color='light' /> */ }\r\n                            </Button>\r\n                          </ModalFooter>\r\n                        </Modal>\r\n                      </td>\r\n                    </tr>\r\n                  )\r\n                })\r\n              }\r\n            </tbody>\r\n          </Table>\r\n        </CardBody>\r\n      </Card>\r\n    </>\r\n  )\r\n}\r\nexport default Banner\r\n","\r\nimport axios from 'axios'\r\n\r\nexport default axios.create({\r\n    //baseURL: `http://localhost:4000`\r\n    // baseURL: `http://3.94.191.228:4000`\r\n    // baseURL: `http://3.94.191.228:4000`\r\n    baseURL: `https://nanybackend.herokuapp.com`\r\n})","import { Fragment } from 'react'\nimport { toast } from 'react-toastify'\nimport Avatar from '@components/avatar'\nimport {Check, X, AlertTriangle, Info } from 'react-feather'\n\n//toast success\nexport const SuccessToast = (props) => (\n  <Fragment>\n    <div className='toastify-header'>\n      <div className='title-wrapper'>\n        <Avatar size='sm' color='success' icon={<Check size={12} />} />\n        <h6 className='toast-title'>Success!</h6>\n      </div>\n      {/* <small className='text-muted'>11 Min Ago</small> */}\n    </div>\n    <div className='toastify-body'>\n      <span role='img' aria-label='toast-text'>\n        {props.text}\n      </span>\n    </div>\n  </Fragment>\n)\n\n//toast error\nexport const ErrorToast = (props) => (\n  <Fragment>\n    <div className='toastify-header'>\n      <div className='title-wrapper'>\n        <Avatar size='sm' color='danger' icon={<X size={12} />} />\n        <h6 className='toast-title'>Error!</h6>\n      </div>\n      {/* <small className='text-muted'>11 Min Ago</small> */}\n    </div>\n    <div className='toastify-body'>\n      <span role='img' aria-label='toast-text'>\n        {props.text}\n      </span>\n    </div>\n  </Fragment>\n)\n\n//toast warning\nexport const WarningToast = (props) => (\n  <Fragment>\n    <div className='toastify-header'>\n      <div className='title-wrapper'>\n        <Avatar size='sm' color='warning' icon={<AlertTriangle size={12} />} />\n        <h6 className='toast-title'>{props.title}</h6>\n      </div>\n      {/* <small className='text-muted'>11 Min Ago</small> */}\n    </div>\n    <div className='toastify-body'>\n      <span role='img' aria-label='toast-text'>\n        {props.text}\n      </span>\n    </div>\n  </Fragment>\n)\n\n//toast info\nexport const InfoToast = (props) => (\n  <Fragment>\n    <div className='toastify-header'>\n      <div className='title-wrapper'>\n        <Avatar size='sm' color='info' icon={<Info size={12} />} />\n        <h6 className='toast-title'>{props.title}</h6>\n      </div>\n      {/* <small className='text-muted'>11 Min Ago</small> */}\n    </div>\n    <div className='toastify-body'>\n      <span role='img' aria-label='toast-text'>\n        {props.text}\n      </span>\n    </div>\n  </Fragment>\n) ","//const baseURL = \"http://localhost:4000/\"\r\n// const baseURL = \"http://3.94.191.228:4000/\"\r\nconst baseURL = `https://nanybackend.herokuapp.com/image/`\r\nexport default baseURL"],"sourceRoot":""}